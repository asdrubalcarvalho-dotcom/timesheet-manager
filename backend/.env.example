APP_NAME=Laravel
APP_ENV=local
APP_KEY=
APP_DEBUG=true
APP_TIMEZONE=UTC
APP_URL=http://localhost
APP_FRONTEND_URL=http://localhost:8082
APP_DOMAIN=localhost:8082

APP_LOCALE=en
APP_FALLBACK_LOCALE=en
APP_FAKER_LOCALE=en_US

APP_MAINTENANCE_DRIVER=file
# APP_MAINTENANCE_STORE=database

PHP_CLI_SERVER_WORKERS=4

BCRYPT_ROUNDS=12

LOG_CHANNEL=stack
LOG_STACK=single
LOG_DEPRECATIONS_CHANNEL=null
LOG_LEVEL=debug

DB_CONNECTION=mysql
DB_HOST=database
DB_PORT=3306
DB_DATABASE=timesheet
DB_USERNAME=timesheet
DB_PASSWORD=secret

SESSION_DRIVER=database
SESSION_LIFETIME=120
SESSION_ENCRYPT=false
SESSION_PATH=/
SESSION_DOMAIN=null

BROADCAST_CONNECTION=log
FILESYSTEM_DISK=local
QUEUE_CONNECTION=database

CACHE_STORE=database
CACHE_PREFIX=
PERMISSION_CACHE_STORE=database

MEMCACHED_HOST=127.0.0.1

REDIS_CLIENT=phpredis
REDIS_HOST=127.0.0.1
REDIS_PASSWORD=null
REDIS_PORT=6379

MAIL_MAILER=log
MAIL_SCHEME=null
MAIL_HOST=127.0.0.1
MAIL_PORT=2525
MAIL_USERNAME=null
MAIL_PASSWORD=null
MAIL_FROM_ADDRESS="hello@example.com"
MAIL_FROM_NAME="${APP_NAME}"

AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_DEFAULT_REGION=us-east-1
AWS_BUCKET=
AWS_USE_PATH_STYLE_ENDPOINT=false

VITE_APP_NAME="${APP_NAME}"

# --- Third-party SSO Providers (configure when enabling SSO) ---
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GOOGLE_REDIRECT_URI=http://localhost:8080/api/auth/sso/google/callback

MICROSOFT_CLIENT_ID=
MICROSOFT_CLIENT_SECRET=
MICROSOFT_TENANT=common
MICROSOFT_REDIRECT_URI=http://localhost:8080/api/auth/sso/microsoft/callback

AZURE_CLIENT_ID=
AZURE_CLIENT_SECRET=
AZURE_TENANT=common
AZURE_REDIRECT_URI=http://localhost:8080/api/auth/sso/azure/callback

# --- Payment Gateway Configuration ---
# Choose payment gateway: 'fake' (development) or 'stripe' (production)
PAYMENTS_DRIVER=fake

# --------------------------
# STRIPE CONFIGURATION
# --------------------------

# Stripe Mode: test or live
STRIPE_MODE=test

# Stripe Test Mode Keys (get from https://dashboard.stripe.com/test/apikeys)
STRIPE_TEST_PUBLISHABLE_KEY=
STRIPE_TEST_SECRET_KEY=
STRIPE_WEBHOOK_SECRET_TEST=

# Stripe Live Mode Keys (get from https://dashboard.stripe.com/apikeys)
# ⚠️ WARNING: Never commit live keys! Keep them secret!
STRIPE_LIVE_PUBLISHABLE_KEY=
STRIPE_LIVE_SECRET_KEY=
STRIPE_WEBHOOK_SECRET_LIVE=

# Stripe Price IDs for TEST mode
# Get these from: https://dashboard.stripe.com/test/products
STRIPE_TEST_TEAM_PRICE_ID=
STRIPE_TEST_ENTERPRISE_PRICE_ID=
STRIPE_TEST_ADDON_PLANNING_PRICE_ID=
STRIPE_TEST_ADDON_AI_PRICE_ID=

# Stripe Price IDs for LIVE mode
# Get these from: https://dashboard.stripe.com/products
# ⚠️ WARNING: Never commit live Price IDs to version control!
STRIPE_LIVE_TEAM_PRICE_ID=
STRIPE_LIVE_ENTERPRISE_PRICE_ID=
STRIPE_LIVE_ADDON_PLANNING_PRICE_ID=
STRIPE_LIVE_ADDON_AI_PRICE_ID=

# Enable Stripe Subscriptions (test mode only during initial rollout)
# When true, creates actual Stripe Subscription objects for recurring billing
# Currently restricted to test mode for safety
BILLING_SUBSCRIPTIONS_ENABLED=false

# Currency Configuration
BILLING_CURRENCY=EUR
BILLING_CURRENCY_SYMBOL=€

# ─────────────────────────────────────────────────────────────────────────────
# Phase 3: Tax, Invoicing, and ERP Integration
# ─────────────────────────────────────────────────────────────────────────────

# Stripe Automatic Tax (requires STRIPE_MODE=test)
# Calculates taxes based on customer location
# NOTE: Prices in Stripe Dashboard must be configured as tax-exclusive
BILLING_TAX_ENABLED=false

# Stripe Invoice Generation (requires STRIPE_MODE=test)
# Creates formal invoices for subscriptions and addon purchases
# Invoices include all metadata for ERP reconciliation
BILLING_INVOICES_ENABLED=false

# ERP Synchronization
# Tracks Stripe invoices in local database for accounting system integration
# Monitors PDF download URLs and legal deadlines
BILLING_ERP_SYNC_ENABLED=false
BILLING_ERP_NOTIFY_EMAIL=sales@company.com

# ─────────────────────────────────────────────────────────────────────────────
# Phase 4: Customer Portal, Payment Failures, Dunning, Pause/Resume
# ─────────────────────────────────────────────────────────────────────────────

# Stripe Customer Billing Portal
# Enables self-service billing management (update cards, view invoices, pause/cancel)
# NOTE: Must also configure portal settings in Stripe Dashboard
BILLING_PORTAL_ENABLED=true

# Intelligent Dunning System
# Automated payment failure reminders (3, 7, 14, 21 days)
# Auto-pauses subscription after 21 days of failed payments
BILLING_DUNNING_ENABLED=true

# Subscription Pause/Resume
# Allow tenants to temporarily pause billing without canceling
# Access may be restricted while paused (configurable)
BILLING_PAUSE_RESUME_ENABLED=true

# Tenancy-specific settings
CENTRAL_DOMAINS="127.0.0.1,localhost,app.timeperk.localhost"
TENANCY_HEADER=X-Tenant
TENANCY_QUERY_PARAMETER=tenant
TENANCY_BASE_DOMAIN=app.timeperk.localhost
TENANCY_AUTO_PROVISION_DOMAINS=false
TENANCY_OPS_EMAIL=ops@example.com
TENANCY_AUTO_REGISTER_ON_REQUEST=false
TENANCY_ALLOW_CENTRAL_FALLBACK=true
TENANCY_FALLBACK_ENVIRONMENTS="local,development,testing"
TENANCY_CENTRAL_CONNECTION=mysql
TENANCY_TENANT_CONNECTION=tenant
TENANCY_DATABASE_PREFIX=timesheet_
TENANCY_DATABASE_SUFFIX=

TENANT_DB_HOST=${DB_HOST}
TENANT_DB_PORT=${DB_PORT}
TENANT_DB_USERNAME=${DB_USERNAME}
TENANT_DB_PASSWORD=${DB_PASSWORD}
